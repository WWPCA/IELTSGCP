{% extends "layout.html" %}

{% block title %}AI Learning Hub - Mobile API Documentation{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="row">
        <div class="col-12">
            <h1 class="mb-4">AI Learning Hub API Documentation</h1>
            <p class="lead">
                This documentation provides information about the API endpoints available for native iOS and Android mobile applications.
            </p>

            <div class="card mb-4">
                <div class="card-header">
                    <h2>API Overview</h2>
                </div>
                <div class="card-body">
                    <p>The AI Learning Hub API is a RESTful API that provides access to the AI Learning Hub platform's functionality from mobile applications.</p>
                    
                    <h4>Base URL</h4>
                    <pre><code>https://{{ request.host }}/api/v1</code></pre>
                    
                    <h4>Authentication</h4>
                    <p>Most API endpoints require authentication. You need to include an Authorization header with a Bearer token:</p>
                    <pre><code>Authorization: Bearer YOUR_TOKEN</code></pre>
                    
                    <h4>Response Format</h4>
                    <p>All API responses are in JSON format and follow this structure:</p>
                    <pre><code>{
  "success": true,
  "timestamp": 1649866800,
  "api_version": "1.0",
  "message": "Optional message",
  "data": {
    // Response data goes here
  }
}</code></pre>
                </div>
            </div>

            <div class="card mb-4">
                <div class="card-header">
                    <h2>Authentication</h2>
                </div>
                <div class="card-body">
                    <h4 class="mb-3">Login</h4>
                    <div class="mb-3">
                        <span class="badge bg-primary">POST</span>
                        <code>/api/v1/auth/login</code>
                    </div>
                    <p>Authenticate a user and receive a JWT token.</p>
                    
                    <h5>Request Body:</h5>
                    <pre><code>{
  "email": "user@example.com",
  "password": "password123"
}</code></pre>
                    
                    <h5>Response:</h5>
                    <pre><code>{
  "success": true,
  "timestamp": 1649866800,
  "api_version": "1.0",
  "message": "Login successful",
  "data": {
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "user": {
      "id": 1,
      "username": "johndoe",
      "email": "user@example.com"
    }
  }
}</code></pre>

                    <hr class="my-4">

                    <h4 class="mb-3">Register</h4>
                    <div class="mb-3">
                        <span class="badge bg-primary">POST</span>
                        <code>/api/v1/auth/register</code>
                    </div>
                    <p>Register a new user account.</p>
                    
                    <h5>Request Body:</h5>
                    <pre><code>{
  "username": "johndoe",
  "email": "user@example.com",
  "password": "password123"
}</code></pre>
                    
                    <h5>Response:</h5>
                    <pre><code>{
  "success": true,
  "timestamp": 1649866800,
  "api_version": "1.0",
  "message": "Registration successful",
  "data": {
    "user_id": 1
  }
}</code></pre>
                </div>
            </div>

            <div class="card mb-4">
                <div class="card-header">
                    <h2>Courses</h2>
                </div>
                <div class="card-body">
                    <h4 class="mb-3">Get All Courses</h4>
                    <div class="mb-3">
                        <span class="badge bg-success">GET</span>
                        <code>/api/v1/courses</code>
                    </div>
                    <p>Get a list of all available courses.</p>
                    
                    <h5>Response:</h5>
                    <pre><code>{
  "success": true,
  "timestamp": 1649866800,
  "api_version": "1.0",
  "data": {
    "courses": [
      {
        "id": 1,
        "title": "Introduction to AI",
        "description": "Learn the basics of artificial intelligence",
        "thumbnail_url": "https://example.com/thumbnail.jpg",
        "duration": "6 weeks",
        "level": "beginner"
      },
      // More courses...
    ]
  }
}</code></pre>

                    <hr class="my-4">

                    <h4 class="mb-3">Get Course Details</h4>
                    <div class="mb-3">
                        <span class="badge bg-success">GET</span>
                        <code>/api/v1/courses/{course_id}</code>
                    </div>
                    <p>Get detailed information about a specific course.</p>
                    
                    <h5>Response:</h5>
                    <pre><code>{
  "success": true,
  "timestamp": 1649866800,
  "api_version": "1.0",
  "data": {
    "course": {
      "id": 1,
      "title": "Introduction to AI",
      "description": "Learn the basics of artificial intelligence",
      "full_description": "This course provides a comprehensive introduction to the field of artificial intelligence...",
      "thumbnail_url": "https://example.com/thumbnail.jpg",
      "duration": "6 weeks",
      "level": "beginner",
      "modules": [
        {
          "id": 1,
          "title": "What is AI?",
          "lessons": [
            {
              "id": 1,
              "title": "Definition and History",
              "duration": "15 minutes"
            },
            // More lessons...
          ]
        },
        // More modules...
      ]
    }
  }
}</code></pre>
                </div>
            </div>

            <div class="card mb-4">
                <div class="card-header">
                    <h2>User Data</h2>
                </div>
                <div class="card-body">
                    <h4 class="mb-3">Get User Profile</h4>
                    <div class="mb-3">
                        <span class="badge bg-success">GET</span>
                        <code>/api/v1/user/profile</code>
                    </div>
                    <p>Get the current user's profile information.</p>
                    
                    <h5>Response:</h5>
                    <pre><code>{
  "success": true,
  "timestamp": 1649866800,
  "api_version": "1.0",
  "data": {
    "user": {
      "id": 1,
      "username": "johndoe",
      "email": "user@example.com",
      "join_date": "2025-01-15T12:00:00Z",
      "subscription_status": "active"
    }
  }
}</code></pre>

                    <hr class="my-4">

                    <h4 class="mb-3">Get User Progress</h4>
                    <div class="mb-3">
                        <span class="badge bg-success">GET</span>
                        <code>/api/v1/user/progress</code>
                    </div>
                    <p>Get the current user's learning progress.</p>
                    
                    <h5>Response:</h5>
                    <pre><code>{
  "success": true,
  "timestamp": 1649866800,
  "api_version": "1.0",
  "data": {
    "progress": {
      "courses_enrolled": 3,
      "courses_completed": 1,
      "total_learning_time": "12 hours",
      "course_progress": [
        {
          "course_id": 1,
          "title": "Introduction to AI",
          "progress_percentage": 75,
          "last_accessed": "2025-04-01T14:30:00Z"
        },
        // More courses...
      ]
    }
  }
}</code></pre>
                </div>
            </div>

            <div class="card mb-4">
                <div class="card-header">
                    <h2>Mobile Specific</h2>
                </div>
                <div class="card-body">
                    <h4 class="mb-3">Sync Data</h4>
                    <div class="mb-3">
                        <span class="badge bg-primary">POST</span>
                        <code>/api/v1/sync</code>
                    </div>
                    <p>Synchronize local data with the server.</p>
                    
                    <h5>Request Body:</h5>
                    <pre><code>{
  "device_id": "550e8400-e29b-41d4-a716-446655440000",
  "sync_type": "partial",
  "content_type": "course",
  "content_id": 1,
  "local_changes": [
    {
      "type": "progress",
      "lesson_id": 12,
      "completed_at": "2025-04-09T16:45:00Z"
    },
    // More changes...
  ]
}</code></pre>
                    
                    <h5>Response:</h5>
                    <pre><code>{
  "success": true,
  "timestamp": 1649866800,
  "api_version": "1.0",
  "message": "Sync successful",
  "data": {
    "sync_id": 123,
    "last_sync": "2025-04-10T10:15:00Z",
    "server_changes": [
      // Any changes from the server...
    ]
  }
}</code></pre>

                    <hr class="my-4">

                    <h4 class="mb-3">Get App Configuration</h4>
                    <div class="mb-3">
                        <span class="badge bg-success">GET</span>
                        <code>/api/v1/config</code>
                    </div>
                    <p>Get configuration information for the mobile app.</p>
                    
                    <h5>Response:</h5>
                    <pre><code>{
  "success": true,
  "timestamp": 1649866800,
  "api_version": "1.0",
  "data": {
    "min_app_version": {
      "ios": "1.0.0",
      "android": "1.0.0"
    },
    "features": {
      "push_notifications": true,
      "real_time_assessment": true
    },
    "media_cdn": "https://cdn.example.com",
    "support_email": "support@example.com"
  }
}</code></pre>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}