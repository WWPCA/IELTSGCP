"""
Official IELTS Assessment Rubrics and Band Descriptors
This module contains authentic IELTS assessment criteria for RAG enhancement.
"""

# Official IELTS Writing Assessment Criteria
IELTS_WRITING_RUBRICS = {
    "task_2_rubric": """
IELTS Writing Task 2 Assessment Criteria:

TASK RESPONSE (25% of marks):
Band 9: Fully addresses all parts of the task. Presents a fully developed position in answer to the question with relevant, fully extended and well supported ideas.
Band 8: Sufficiently addresses all parts of the task. Presents a well-developed response to the question with relevant, extended and supported ideas.
Band 7: Addresses all parts of the task. Presents a clear position throughout the response. Presents, extends and supports main ideas, but there may be a tendency to over-generalise and/or supporting ideas may lack focus.
Band 6: Addresses all parts of the task although some parts may be more fully covered than others. Presents a relevant position although the conclusions may become unclear or repetitive.
Band 5: Addresses the task only partially; the format may be inappropriate in places. Expresses a position but the development is not always clear and there may be no conclusions drawn.

COHERENCE AND COHESION (25% of marks):
Band 9: Uses cohesion in such a way that it attracts no attention. Skilfully manages paragraphing.
Band 8: Sequences information and ideas logically. Manages all aspects of cohesion well. Uses paragraphing sufficiently and appropriately.
Band 7: Logically organises information and ideas; there is clear progression throughout. Uses a range of cohesive devices appropriately although there may be some under-/over-use.
Band 6: Arranges information and ideas coherently and there is a clear overall progression. Uses cohesive devices effectively, but cohesion within and/or between sentences may be faulty or mechanical.
Band 5: Presents information with some organisation but there may be a lack of overall progression. Makes inadequate, inaccurate or over-use of cohesive devices.

LEXICAL RESOURCE (25% of marks):
Band 9: Uses a wide range of vocabulary with very natural and sophisticated control of lexical features; rare minor errors occur only as 'slips'.
Band 8: Uses a wide range of vocabulary fluently and flexibly to convey precise meanings. Skilfully uses uncommon lexical items but there may be occasional inaccuracies in word choice and collocation.
Band 7: Uses a sufficient range of vocabulary to allow some flexibility and precise usage. Uses less common lexical items with some awareness of style and collocation. May produce occasional errors in word choice, spelling and/or word formation.
Band 6: Uses an adequate range of vocabulary for the task. Attempts to use less common vocabulary but with some inaccuracy. Makes some errors in spelling and/or word formation, but they do not impede communication.
Band 5: Uses a limited range of vocabulary, but this is minimally adequate for the task. May make noticeable errors in spelling and/or word formation that may cause some difficulty for the reader.

GRAMMATICAL RANGE AND ACCURACY (25% of marks):
Band 9: Uses a wide range of structures with full flexibility and accurate usage; rare minor errors occur only as 'slips'.
Band 8: Uses a wide range of structures. The majority of sentences are error-free. Makes only very occasional errors or inappropriacies.
Band 7: Uses a variety of complex structures. Has good control of grammar and punctuation but may make a few errors.
Band 6: Uses a mix of simple and complex sentence forms. Makes some errors in grammar and punctuation but they rarely reduce communication.
Band 5: Uses only a limited range of structures. Attempts complex sentences but these tend to be less accurate than simple sentences. May make frequent grammatical errors and punctuation may be faulty.
""",

    "task_1_rubric": """
IELTS Writing Task 1 Assessment Criteria:

TASK ACHIEVEMENT (25% of marks):
Band 9: Fully satisfies all the requirements of the task. Clearly presents a fully developed response. Uses appropriate and accurate register throughout.
Band 8: Covers all requirements of the task sufficiently. Presents, highlights and illustrates key features/bullet points clearly and appropriately.
Band 7: Covers the requirements of the task. Presents a clear overview of main trends, differences or stages. Clearly presents and highlights key features/bullet points but could be more fully extended.
Band 6: Addresses the requirements of the task. Presents an overview with information appropriately selected. Presents and adequately highlights key features/bullet points but details may be irrelevant, inappropriate or inaccurate.
Band 5: Generally addresses the task; the format may be inappropriate in places. Recounts detail mechanically with no clear overview; there may be no data to support the description.

COHERENCE AND COHESION (25% of marks):
Band 9: Uses cohesion in such a way that it attracts no attention. Skilfully manages paragraphing.
Band 8: Sequences information and ideas logically. Manages all aspects of cohesion well. Uses paragraphing sufficiently and appropriately.
Band 7: Logically organises information and ideas; there is clear progression throughout. Uses a range of cohesive devices appropriately although there may be some under-/over-use.
Band 6: Arranges information and ideas coherently and there is a clear overall progression. Uses cohesive devices effectively, but cohesion within and/or between sentences may be faulty or mechanical.
Band 5: Presents information with some organisation but there may be a lack of overall progression. Makes inadequate, inaccurate or over-use of cohesive devices.

LEXICAL RESOURCE AND GRAMMATICAL RANGE: [Same as Task 2 criteria above]
"""
}

# Official IELTS Speaking Assessment Criteria  
IELTS_SPEAKING_RUBRICS = {
    "speaking_rubric": """
IELTS Speaking Assessment Criteria:

FLUENCY AND COHERENCE (25% of marks):
Band 9: Speaks fluently with only rare repetition or self-correction; any hesitation is content-related rather than to find words or grammar. Speaks coherently with fully appropriate cohesive features. Develops topics fully and appropriately.
Band 8: Speaks fluently with only occasional repetition or self-correction; hesitation is usually content-related and only rarely to search for language. Develops topics coherently and appropriately.
Band 7: Speaks at length without noticeable effort or loss of coherence; may demonstrate language-related hesitation at times, or some repetition and/or self-correction. Uses a range of connectives and discourse markers with some flexibility.
Band 6: Is willing to speak at length, though may lose coherence at times due to occasional repetition, self-correction or hesitation. Uses a range of connectives and discourse markers but not always appropriately.
Band 5: Usually maintains flow of speech but uses repetition, self-correction and/or slow speech to keep going. May over-use certain connectives and discourse markers. Produces simple speech fluently, but more complex communication causes fluency problems.

LEXICAL RESOURCE (25% of marks):
Band 9: Uses vocabulary with full flexibility and precise usage in all topics. Uses idiomatic language naturally and accurately.
Band 8: Uses a wide vocabulary resource readily and flexibly to convey precise meaning. Uses less common and idiomatic vocabulary skilfully, with occasional inaccuracies.
Band 7: Uses vocabulary resource flexibly to discuss a variety of topics. Uses some less common and idiomatic vocabulary and shows some awareness of style and collocation, with some inappropriate choices.
Band 6: Has a wide enough vocabulary to discuss topics at length and make meaning clear in spite of inappropriacies. Generally paraphrases successfully.
Band 5: Manages to talk about familiar and unfamiliar topics but uses vocabulary with limited flexibility. Attempts to use paraphrase but with mixed success.

GRAMMATICAL RANGE AND ACCURACY (25% of marks):
Band 9: Uses a full range of structures naturally and appropriately. Produces consistently accurate structures apart from 'slips' characteristic of native speaker speech.
Band 8: Uses a wide range of structures flexibly. Produces a majority of error-free sentences with only very occasional inappropriacies or basic/non-systematic errors.
Band 7: Uses a range of structures flexibly. Produces a majority of error-free sentences and makes only very occasional errors or inappropriacies.
Band 6: Uses a mix of simple and complex structures, but with limited flexibility. May make frequent mistakes with complex structures, though these rarely cause comprehension problems.
Band 5: Produces basic sentence forms with reasonable accuracy. Uses a limited range of more complex structures, but these usually contain errors and may cause some comprehension problems.

PRONUNCIATION (25% of marks):
Band 9: Uses a full range of pronunciation features with precision and subtlety. Sustains flexible use of features throughout. Is effortless to understand.
Band 8: Uses a wide range of pronunciation features. Sustains flexible use of features, with only occasional lapses. Is easy to understand throughout; L1 accent has minimal effect on intelligibility.
Band 7: Shows all the positive features of Band 6 and some, but not all, of the positive features of Band 8.
Band 6: Uses a range of pronunciation features with mixed control. Shows some effective use of features but this is not sustained. Can generally be understood throughout, though mispronunciation of individual words or sounds reduces clarity at times.
Band 5: Shows all the positive features of Band 4 and some, but not all, of the positive features of Band 6.
"""
}

def get_writing_criteria(task_type):
    """Get official IELTS writing criteria for specific task"""
    if task_type.lower() in ['task1', 'task_1']:
        return IELTS_WRITING_RUBRICS['task_1_rubric']
    elif task_type.lower() in ['task2', 'task_2']:
        return IELTS_WRITING_RUBRICS['task_2_rubric']
    else:
        return IELTS_WRITING_RUBRICS['task_2_rubric']  # Default to Task 2

def get_speaking_criteria():
    """Get official IELTS speaking criteria"""
    return IELTS_SPEAKING_RUBRICS['speaking_rubric']

def get_all_criteria():
    """Get all official IELTS assessment criteria"""
    return {
        'writing': IELTS_WRITING_RUBRICS,
        'speaking': IELTS_SPEAKING_RUBRICS
    }