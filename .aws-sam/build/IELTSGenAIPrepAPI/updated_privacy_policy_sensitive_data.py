"""
Updated Privacy Policy with Google Play Sensitive Data Compliance
Integrates both GenAI safety and sensitive data policy requirements
"""

def get_complete_privacy_policy_with_sensitive_data():
    """
    Generate complete privacy policy with sensitive data compliance section
    """
    return '''<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Privacy Policy - IELTS GenAI Prep</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
        }
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem 0;
            text-align: center;
        }
        .content {
            max-width: 900px;
            margin: 0 auto;
            padding: 2rem;
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-top: -1rem;
        }
        .section {
            margin-bottom: 2rem;
        }
        .section h3 {
            color: #667eea;
            border-bottom: 2px solid #667eea;
            padding-bottom: 0.5rem;
        }
        .safety-highlight {
            background: #e8f4f8;
            border-left: 4px solid #17a2b8;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 5px;
        }
        .sensitive-data-section {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-radius: 5px;
        }
        .compliance-box {
            background: #d1ecf1;
            border: 1px solid #bee5eb;
            padding: 1rem;
            border-radius: 5px;
            margin: 1rem 0;
        }
        .back-btn {
            display: inline-block;
            margin-bottom: 1rem;
            color: #667eea;
            text-decoration: none;
            font-weight: 500;
        }
        .back-btn:hover {
            color: #764ba2;
        }
        .data-type {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            padding: 1rem;
            margin: 0.5rem 0;
            border-radius: 5px;
        }
        .data-type h5 {
            color: #495057;
            margin-bottom: 0.5rem;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>Privacy Policy</h1>
        <p>Complete data protection and Google Play policy compliance</p>
    </div>
    
    <div class="container">
        <div class="content">
            <a href="/" class="back-btn">‚Üê Back to Home</a>
            
            <div class="section">
                <h3>Last Updated: July 11, 2025</h3>
                <p>This Privacy Policy describes how IELTS GenAI Prep collects, uses, and protects your information in compliance with Google Play's updated policies on sensitive data access and GenAI safety requirements.</p>
            </div>
            
            <div class="sensitive-data-section">
                <h3>üîí Sensitive Data Usage and Your Rights</h3>
                <p><strong>Google Play Compliance:</strong> We strictly comply with Google Play's policies on sensitive data access. All data collection is essential for core app functionality and disclosed transparently.</p>
                
                <div class="compliance-box">
                    <strong>Core App Functions:</strong>
                    <ul>
                        <li>AI-powered writing evaluation for IELTS preparation</li>
                        <li>AI-powered speaking evaluation with Maya examiner</li>
                        <li>Assessment progress tracking and history</li>
                        <li>Secure user authentication and session management</li>
                    </ul>
                </div>
            </div>
            
            <div class="section">
                <h3>Sensitive Data We Access and Why</h3>
                <p>The following sensitive information is accessed only for essential IELTS assessment functions:</p>
                
                <div class="data-type">
                    <h5>Your Writing Content</h5>
                    <ul>
                        <li><strong>Purpose:</strong> IELTS writing assessment evaluation</li>
                        <li><strong>Why Essential:</strong> AI-powered writing evaluation for IELTS preparation</li>
                        <li><strong>Your Consent:</strong> Explicit consent required before first use</li>
                        <li><strong>Your Alternative:</strong> Practice writing without AI assessment</li>
                        <li><strong>Data Retention:</strong> Stored for assessment history, deletable by user</li>
                        <li><strong>Sharing:</strong> No third-party sharing</li>
                    </ul>
                </div>
                
                <div class="data-type">
                    <h5>Your Speech Data</h5>
                    <ul>
                        <li><strong>Purpose:</strong> IELTS speaking assessment evaluation</li>
                        <li><strong>Why Essential:</strong> AI-powered speaking evaluation with Maya examiner</li>
                        <li><strong>Your Consent:</strong> Explicit consent required before first use</li>
                        <li><strong>Your Alternative:</strong> Practice speaking without AI assessment</li>
                        <li><strong>Data Retention:</strong> Processed in real-time only, not stored permanently</li>
                        <li><strong>Sharing:</strong> No third-party sharing</li>
                    </ul>
                </div>
                
                <div class="data-type">
                    <h5>Your Assessment Results</h5>
                    <ul>
                        <li><strong>Purpose:</strong> Track progress and provide feedback</li>
                        <li><strong>Why Essential:</strong> Track user progress across IELTS assessments</li>
                        <li><strong>Your Consent:</strong> Explicit consent required before first use</li>
                        <li><strong>Your Alternative:</strong> Use app without progress tracking</li>
                        <li><strong>Data Retention:</strong> Stored for progress tracking, deletable by user</li>
                        <li><strong>Sharing:</strong> No third-party sharing</li>
                    </ul>
                </div>
                
                <div class="data-type">
                    <h5>Your Email and Credentials</h5>
                    <ul>
                        <li><strong>Purpose:</strong> User authentication and account management</li>
                        <li><strong>Why Essential:</strong> Secure user login and session management</li>
                        <li><strong>Your Consent:</strong> Explicit consent required before first use</li>
                        <li><strong>Your Alternative:</strong> Guest mode available with limited features</li>
                        <li><strong>Data Retention:</strong> Stored for account management, deletable on account closure</li>
                        <li><strong>Sharing:</strong> No third-party sharing</li>
                    </ul>
                </div>
            </div>
            
            <div class="section">
                <h3>Your Rights and Choices</h3>
                <div class="compliance-box">
                    <ul>
                        <li><strong>Consent Control:</strong> You can revoke consent for any data type at any time</li>
                        <li><strong>Data Deletion:</strong> You can request deletion of your data through app settings</li>
                        <li><strong>Alternative Access:</strong> App provides limited functionality without sensitive data access</li>
                        <li><strong>Transparency:</strong> This policy clearly explains all data usage for your informed consent</li>
                        <li><strong>Minimal Data:</strong> We only collect the minimum data necessary for core functionality</li>
                        <li><strong>Purpose Limitation:</strong> Data is used only for the specific purposes you consented to</li>
                    </ul>
                </div>
            </div>
            
            <div class="section">
                <h3>AI Content Safety and Privacy</h3>
                <div class="safety-highlight">
                    <p><strong>Content Safety Processing:</strong> To ensure compliance with Google Play's GenAI policies and provide a safe learning environment, we implement comprehensive content safety measures:</p>
                    <ul>
                        <li><strong>User Input Validation:</strong> Your writing submissions and speaking responses are processed through content safety filters</li>
                        <li><strong>AI Output Validation:</strong> All AI-generated feedback and Maya examiner responses are safety-validated</li>
                        <li><strong>Educational Context Protection:</strong> Content is validated for IELTS educational appropriateness</li>
                        <li><strong>Real-time Processing:</strong> Safety validation occurs in real-time to protect all users</li>
                    </ul>
                </div>
            </div>
            
            <div class="section">
                <h3>Data Protection and Security</h3>
                <ul>
                    <li><strong>Encryption:</strong> All data is encrypted in transit and at rest</li>
                    <li><strong>Secure Storage:</strong> Assessment data is stored securely in encrypted databases</li>
                    <li><strong>Access Control:</strong> Strict access controls limit who can access your data</li>
                    <li><strong>Regular Audits:</strong> We conduct regular security audits and vulnerability assessments</li>
                    <li><strong>Compliance Monitoring:</strong> Continuous monitoring for policy compliance and data protection</li>
                </ul>
            </div>
            
            <div class="section">
                <h3>Data Minimization Practices</h3>
                <div class="compliance-box">
                    <p><strong>Google Play Compliance:</strong> We implement strict data minimization:</p>
                    <ul>
                        <li><strong>Minimal Collection:</strong> Only essential data for core IELTS assessment functions</li>
                        <li><strong>Purpose Limitation:</strong> Data used only for declared educational purposes</li>
                        <li><strong>Storage Limitation:</strong> Data retained only as long as necessary for the service</li>
                        <li><strong>User Control:</strong> Users can delete their data at any time</li>
                        <li><strong>No Advertising:</strong> Sensitive data is never used for advertising or analytics</li>
                    </ul>
                </div>
            </div>
            
            <div class="section">
                <h3>Third-Party Services</h3>
                <p>We use the following third-party services in compliance with Google Play policies:</p>
                <ul>
                    <li><strong>AWS Content Safety:</strong> For content safety validation and educational appropriateness</li>
                    <li><strong>AWS AI Services:</strong> For IELTS assessment processing (Nova Sonic/Micro)</li>
                    <li><strong>Payment Processing:</strong> Apple App Store and Google Play for secure payment processing</li>
                    <li><strong>Data Transfer:</strong> All third-party data transfer is limited to essential service provision</li>
                </ul>
            </div>
            
            <div class="section">
                <h3>International Data Transfers</h3>
                <p>Your data may be processed in different regions to provide optimal service performance. All transfers comply with applicable data protection laws and include appropriate safeguards.</p>
            </div>
            
            <div class="section">
                <h3>Children's Privacy</h3>
                <p>Our app is designed for users preparing for IELTS examinations. We do not knowingly collect personal information from children under 13 without parental consent. If you believe we have collected information from a child under 13, please contact us immediately.</p>
            </div>
            
            <div class="section">
                <h3>Policy Updates</h3>
                <p>We may update this Privacy Policy to reflect changes in our practices or legal requirements. Material changes will be communicated through:</p>
                <ul>
                    <li>In-app notifications</li>
                    <li>Email notifications (if you have provided an email address)</li>
                    <li>Prominent notices on our website</li>
                </ul>
            </div>
            
            <div class="section">
                <h3>Contact Information</h3>
                <p>For questions about this Privacy Policy, your data rights, or our compliance practices:</p>
                <p><strong>Email:</strong> privacy@ieltsaiprep.com</p>
                <p><strong>Subject:</strong> Privacy Policy, Data Rights, or Compliance Inquiry</p>
                <p><strong>Response Time:</strong> We will respond to privacy inquiries within 30 days</p>
            </div>
            
            <div class="section">
                <h3>Compliance Summary</h3>
                <div class="compliance-box">
                    <p><strong>This app complies with:</strong></p>
                    <ul>
                        <li>Google Play Developer Program Policies</li>
                        <li>Google Play Sensitive Data Access Policies</li>
                        <li>Google Play GenAI Developer Policies</li>
                        <li>General Data Protection Regulation (GDPR)</li>
                        <li>California Consumer Privacy Act (CCPA)</li>
                        <li>Children's Online Privacy Protection Act (COPPA)</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    
    <footer class="text-center py-4 mt-5">
        <div class="container">
            <p>&copy; 2025 IELTS GenAI Prep. All rights reserved.</p>
            <p><a href="/terms-of-service">Terms of Service</a> | <a href="/privacy-policy">Privacy Policy</a></p>
        </div>
    </footer>
</body>
</html>'''

if __name__ == "__main__":
    # Generate complete privacy policy
    complete_html = get_complete_privacy_policy_with_sensitive_data()
    
    # Save to file
    with open('complete_privacy_policy_sensitive_data.html', 'w', encoding='utf-8') as f:
        f.write(complete_html)
    
    print("Complete privacy policy with sensitive data compliance created!")
    print("File saved as: complete_privacy_policy_sensitive_data.html")